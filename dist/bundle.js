(()=>{"use strict";var t={366:function(t,e,i){var n=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(o,r){function _(t){try{O(n.next(t))}catch(t){r(t)}}function s(t){try{O(n.throw(t))}catch(t){r(t)}}function O(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(_,s)}O((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const o=i(228),r=document.getElementById("message"),_=document.getElementById("submitButton"),s=document.getElementById("commandLog"),O=document.getElementById("gameBoard"),d=document.getElementById("testButton"),R=new o.Robot(5,5);var l=!1;function c(){let t=R.getX(),e=R.getY(),i=R.getDirection(),n="X";if(i===o.ROBOT_NORTH?n="^":i===o.ROBOT_EAST?n=">":i===o.ROBOT_SOUTH?n="V":i===o.ROBOT_WEST&&(n="<"),null==O?void 0:O.rows){for(;(null==O?void 0:O.rows.length)>0;)null==O||O.deleteRow(0);for(let i=0;i<5;i++){let o=null==O?void 0:O.insertRow(0);for(let r=4;r>=0;r--){o.insertCell(0).innerText=r+1==t&&i+1==e?"|__"+n+"__]":"|_____|"}}}}function E(t){return n(this,void 0,void 0,(function*(){h(t),c(),yield(500,new Promise((t=>setTimeout(t,500))))}))}function h(t){s&&(s.textContent=R.command(t)+"\n"+(null==s?void 0:s.textContent))}null==d||d.addEventListener("click",(function(t){return n(this,void 0,void 0,(function*(){!1===l&&(l=!0,yield function(){return n(this,void 0,void 0,(function*(){yield E("PLACE 1,1,NORTH");for(let t=0;t<5;t++)yield E("MOVE");yield E("RIGHT");for(let t=0;t<5;t++)yield E("MOVE");yield E("RIGHT");for(let t=0;t<5;t++)yield E("MOVE");yield E("RIGHT");for(let t=0;t<3;t++)yield E("MOVE");yield E("LEFT"),yield E("LEFT"),yield E("LEFT"),yield E("LEFT"),yield E("LEFT"),yield E("REPORT")}))}(),l=!1)}))})),null==_||_.addEventListener("click",(function(t){(null==r?void 0:r.value)&&(null==s?void 0:s.textContent)&&h(r.value),c()})),c()},228:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Robot=e.DIRECTIONS=e.ROBOT_WEST=e.ROBOT_SOUTH=e.ROBOT_EAST=e.ROBOT_NORTH=e.SUCCESS_MSG=e.INVALID_MOVE=e.PLACE_COMMAND_ARGS_WRONG_ERROR=e.PLACE_COMMAND_ARGS_MISSING_ERROR=e.INVALID_COMMAND=e.OFF_BOARD_MOVE_ERROR=e.NOT_PLACED_ERROR=e.INVALID_DIMS_ERROR=void 0,e.INVALID_DIMS_ERROR="Board X and Y must be between 1 and 5.",e.NOT_PLACED_ERROR="The robot must be placed before you can move it. Try 'PLACE 1,1,NORTH'.",e.OFF_BOARD_MOVE_ERROR="That move is invalid, it would move the robot outside the board.",e.INVALID_COMMAND="Invalid Command - Only the PLACE, LEFT, RIGHT, MOVE, and REPORT commands are allowed. For the PLACE command, X&Y must be between 1-5 inclusive.",e.PLACE_COMMAND_ARGS_MISSING_ERROR="The place command requires arguments.",e.PLACE_COMMAND_ARGS_WRONG_ERROR="The arguments for place are invalid.",e.INVALID_MOVE="That move is invalid as it would move the robot outside the board.",e.SUCCESS_MSG="Success.",e.ROBOT_NORTH="NORTH",e.ROBOT_EAST="EAST",e.ROBOT_SOUTH="SOUTH",e.ROBOT_WEST="WEST",e.DIRECTIONS=[e.ROBOT_NORTH,e.ROBOT_EAST,e.ROBOT_SOUTH,e.ROBOT_WEST],e.Robot=class{constructor(t,i){if(this._x=-1,this._y=-1,this._directionIndex=0,this.boardX=5,this.boardY=5,t<1||i<1||t>5||i>5)throw new Error(e.INVALID_DIMS_ERROR);this.boardX=t,this.boardY=i}isPlaced(){return this._x>0&&this._y>0}getDirection(){return e.DIRECTIONS[this._directionIndex]}getX(){return this._x}getY(){return this._y}left(){return!!this.isPlaced()&&(this._directionIndex--,this._directionIndex<0&&(this._directionIndex=e.DIRECTIONS.length-1),!0)}right(){return!!this.isPlaced()&&(this._directionIndex++,this._directionIndex>=e.DIRECTIONS.length&&(this._directionIndex=0),!0)}place(t,i,n){return e.DIRECTIONS.indexOf(n)>-1&&t>0&&t<=this.boardX&&i>0&&i<=this.boardY&&(this._directionIndex=e.DIRECTIONS.indexOf(n),this._x=t,this._y=i,!0)}move(){let t=!1;return this.isPlaced()&&(e.DIRECTIONS[this._directionIndex]===e.ROBOT_NORTH?this._y<this.boardY&&(this._y++,t=!0):e.DIRECTIONS[this._directionIndex]===e.ROBOT_EAST?this._x<this.boardX&&(this._x++,t=!0):e.DIRECTIONS[this._directionIndex]===e.ROBOT_SOUTH?this._y>1&&(this._y--,t=!0):e.DIRECTIONS[this._directionIndex]===e.ROBOT_WEST&&this._x>1&&(this._x--,t=!0)),t}report(){return`X: ${this._x} Y: ${this._y} Looking: ${e.DIRECTIONS[this._directionIndex]}`}_sanitizeCmd(t){let e=t.trim().toLocaleUpperCase();if(e.match("^(MOVE|LEFT|RIGHT|REPORT)$"))return new i(e,null);if(e.match("^(PLACE [1-5],[1-5],(NORTH|EAST|SOUTH|WEST))$")){let t=e.split(" ");return new n(t[0],t[1].split(","))}return null}command(t){let i=this._sanitizeCmd(t);if(null==i)return e.INVALID_COMMAND;let n=!1;if("PLACE"===i.action){let t=i;n=this.place(t.getX(),t.getY(),t.getDirection())}else if(!this.isPlaced())return e.NOT_PLACED_ERROR;if("MOVE"===i.action)n=this.move();else if("LEFT"==i.action)n=this.left();else if("RIGHT"==i.action)n=this.right();else if("REPORT"==i.action)return this.report();return n?i.action+" "+e.SUCCESS_MSG:e.INVALID_MOVE}};class i{constructor(t,e){this.action=t,this.args=e}}class n extends i{constructor(t,i){if(super(t,i),this._x=-1,this._y=-1,this._direction="",null==i)throw new Error(e.PLACE_COMMAND_ARGS_MISSING_ERROR);this._loadArgs(i)}getX(){return this._x}getY(){return this._y}getDirection(){return this._direction}_loadArgs(t){if(3!=t.length)throw new Error(e.PLACE_COMMAND_ARGS_WRONG_ERROR);if(this._x=+t[0],this._y=+t[1],-1==e.DIRECTIONS.indexOf(t[2]))throw new Error(e.PLACE_COMMAND_ARGS_WRONG_ERROR);this._direction=t[2]}}}},e={};!function i(n){var o=e[n];if(void 0!==o)return o.exports;var r=e[n]={exports:{}};return t[n].call(r.exports,r,r.exports,i),r.exports}(366)})();